# 后端 prompt 文档

当涉及项目后端开发时，请 Agent 参考本文档中的信息，你可以将关键的指令与提示总结并输出到对话 context 中，或者提示自己在设计方案和实现时再次查阅文档，方便你在全程记住它们并依照它们行动。

> 注意：项目结构相关的内容已移至 `crater-insights/backend.md`，本文档仅包含开发时的注意事项和提示词。

# 注意事项（提示词）

这章对于 Agent 非常关键，请在整个开发流程中牢记以下提示，如有需要，请你以便于你在整个会话中保持长期记忆的方式输出它们，或者提示自己在需要时再次查阅文档。

## 整体

- 确保前端管理员视图下调用的接口都是管理员接口（前缀包含 `admin`，参考 `crater-insights/backend.md` 中的路由注册机制）
- 管理员接口函数名使用 `Admin` 前缀，用户接口使用 `User` 前缀
- 注意撰写或者更新 swag 注释，如果不需要添加或者修改，需要明确告诉用户
- 不要把大量的逻辑写在 handler 中

## 具体

- 关于错误信息：
  - 目前返回的 HTTP 状态码很多不符合 RESTful 规范，对于新增的内容，不要粗暴的使用 `Error` 函数，而是使用其它函数返回符合 RESTful 的 HTTP 状态码
  - 根据需要，在 `backend/internal/resputil/code.go` 定义新的业务状态码，并妥善的使用它们
  - 在后端提供清晰的英文错误信息，返回给前端，由前端展示